const e=()=>fetch("http://localhost:3000/students").then(e=>e.json()),t=e=>fetch("http://localhost:3000/students",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json("")),r=e=>{let t={method:"DELETE",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}};return fetch(`http://localhost:3000/students/${e}`,t).then(e=>e.json())},l=e=>e.map(e=>`<tr>
            <td class="stud-id">${e.id}</td>
            <td class="stud-name">${e.name}</td>
            <td class="stud-age">${e.age}</td>
            <td class="stud-course">${e.course}</td>
            <td class="stud-skills">${e.skills}</td>
            <td class="stud-email">${e.email}</td>
            <td class="stud-is-enrolled">${e.isEnrolled}</td>
            <td class="">
                <button class="delete" id="delete" data-id="${e.id}" type="button">delete</button>
                <button class="update" id="update" data-id="${e.id}" type="button">update</button>
            </td>

        <tr>`).join(""),u=(e,t)=>fetch(`http://localhost:3000/students/${e}`,{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json());document.querySelector("#get-students-btn").addEventListener("click",()=>{e().then(e=>{document.querySelector(".studentds-list").innerHTML=l(e)})}),document.addEventListener("click",e=>{if(e.target.classList.contains("update")){let t=e.target.dataset.id,r=e.target.closest("tr");document.querySelector("#edit-id").value=t,document.querySelector("#edit-name").value=r.querySelector(".stud-name").textContent,document.querySelector("#edit-age").value=r.querySelector(".stud-age").textContent,document.querySelector("#edit-course").value=r.querySelector(".stud-course").textContent,document.querySelector("#edit-skills").value=r.querySelector(".stud-skills").textContent,document.querySelector("#edit-email").value=r.querySelector(".stud-email").textContent,document.querySelector("#edit-isEnrolled").value=r.querySelector(".stud-is-enrolled").textContent,document.querySelector("#edit-form").classList.remove("is-hidden")}}),document.querySelector("#edit-student-form").addEventListener("submit",t=>{t.preventDefault(),u(document.querySelector("#edit-id").value,{name:document.querySelector("#edit-name").value,age:document.querySelector("#edit-age").value,course:document.querySelector("#edit-course").value,skills:document.querySelector("#edit-skills").value,email:document.querySelector("#edit-email").value,isEnrolled:document.querySelector("#edit-isEnrolled").checked}).then(()=>e()).then(e=>{document.querySelector(".studentds-list").innerHTML=l(e),document.querySelector("#edit-form").classList.add("is-hidden")})}),document.addEventListener("click",t=>{t.target.classList.contains("delete")&&r(t.target.dataset.id).then(()=>{e().then(e=>{document.querySelector(".studentds-list").innerHTML=l(e)})})}),document.querySelector("#add-student-form").addEventListener("submit",r=>{r.preventDefault();let u=r.currentTarget.querySelector("#name").value,d=r.currentTarget.querySelector("#age").value,n=r.currentTarget.querySelector("#course").value,s=r.currentTarget.querySelector("#skills").value,o=r.currentTarget.querySelector("#email").value;t({name:u,age:d,course:n,skills:s,email:o,isEnrolled:r.currentTarget.querySelector("#isEnrolled").value}),e().then(e=>{document.querySelector(".studentds-list").innerHTML=l(e)}),r.currentTarget.querySelector("#name").value="",r.currentTarget.querySelector("#age").value="",r.currentTarget.querySelector("#course").value="",r.currentTarget.querySelector("#skills").value="",r.currentTarget.querySelector("#email").value="",r.currentTarget.querySelector("#isEnrolled").value=""});
//# sourceMappingURL=crud-with-backend-hw.1b05a526.js.map
